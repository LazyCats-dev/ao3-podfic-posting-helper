@use '@angular/material' as mat;
@use '@angular/cdk';
@use '@angular/material-experimental' as matx;

$dark-primary-text: rgb(0 0 0 / 87%);
$light-primary-text: white;

// Based on AO3 red color.
$light-primary-palette: (
  50: #fae7e9,
  100: #f3c4c6,
  200: #da8c88,
  300: #c8615c,
  400: #cb3f36,
  500: #ca2c17,
  600: #bc2218,
  700: #ac1714,
  800: #9f0f0d,
  900: #900000,
  contrast: (
    50: $dark-primary-text,
    100: $dark-primary-text,
    200: $dark-primary-text,
    300: $dark-primary-text,
    400: $dark-primary-text,
    500: $light-primary-text,
    600: $light-primary-text,
    700: $light-primary-text,
    800: $light-primary-text,
    900: $light-primary-text,
  ),
);
$light-accent-palette: (
  50: #e0f1f3,
  100: #b2dddf,
  200: #7fc7ca,
  300: #4cb1b4,
  400: #25a1a2,
  500: #009090,
  600: #018382,
  700: #037472,
  800: #076461,
  900: #094844,
  contrast: (
    50: $dark-primary-text,
    100: $dark-primary-text,
    200: $dark-primary-text,
    300: $dark-primary-text,
    400: $dark-primary-text,
    500: $light-primary-text,
    600: $light-primary-text,
    700: $light-primary-text,
    800: $light-primary-text,
    900: $light-primary-text,
  ),
);
$dark-primary-palette: (
  50: #e6f2fa,
  100: #c2def3,
  200: #9ecaeb,
  300: #7eb5e2,
  400: #69a6dc,
  500: #5998d6,
  600: #518ac9,
  700: #4778b7,
  800: #4068a4,
  900: #324b84,
  contrast: (
    50: $dark-primary-text,
    100: $dark-primary-text,
    200: $dark-primary-text,
    300: $dark-primary-text,
    400: $dark-primary-text,
    500: $dark-primary-text,
    600: $light-primary-text,
    700: $light-primary-text,
    800: $light-primary-text,
    900: $light-primary-text,
  ),
);
$dark-accent-palette: (
  50: #faf3e7,
  100: #f3e1c3,
  200: #edce9e,
  300: #e6bb7c,
  400: #e1ad68,
  500: #dba15f,
  600: #d69859,
  700: #ce8b53,
  800: #c47f4e,
  900: #b36e4a,
  contrast: (
    50: $dark-primary-text,
    100: $dark-primary-text,
    200: $dark-primary-text,
    300: $dark-primary-text,
    400: $dark-primary-text,
    500: $light-primary-text,
    600: $light-primary-text,
    700: $light-primary-text,
    800: $light-primary-text,
    900: $light-primary-text,
  ),
);
$light-primary: mat.define-palette($light-primary-palette, 900);
$light-accent: mat.define-palette($light-accent-palette, 500);
$dark-primary: mat.define-palette($dark-primary-palette, 500);
$dark-accent: mat.define-palette($dark-accent-palette, 600);
$light-warn: mat.define-palette($light-primary-palette, 700);
$dark-warn: mat.define-palette($light-primary-palette, 900);
$typography: mat.define-typography-config(
  $font-family:
    "'Lucida Grande', 'Lucida Sans Unicode', Verdana, Helvetica, sans-serif, 'GNU Unifont'",
);
$light-theme: mat.define-light-theme(
  (
    color: (
      primary: $light-primary,
      accent: $light-accent,
      warn: $light-warn,
    ),
    typography: $typography,
    density: 0,
  )
);
$dark-theme: mat.define-dark-theme(
  (
    color: (
      primary: $dark-primary,
      accent: $dark-accent,
      warn: $light-warn,
    ),
    typography: $typography,
    density: 0,
  )
);
$light-primary-palette: (
  100: rgb(255 255 255),
  99: rgb(255 251 255),
  98: rgb(255 248 246),
  95: rgb(255 237 234),
  90: rgb(255 218 212),
  80: rgb(255 180 168),
  70: rgb(255 138 120),
  60: rgb(253 87 67),
  50: rgb(217 62 45),
  40: rgb(182 36 23),
  35: rgb(164 21 12),
  30: rgb(147 3 1),
  25: rgb(126 0 0),
  20: rgb(105 0 0),
  10: rgb(65 0 0),
  0: rgb(0 0 0),
  secondary: (
    100: rgb(255 255 255),
    99: rgb(255 251 255),
    98: rgb(255 248 246),
    95: rgb(255 237 234),
    90: rgb(255 218 212),
    80: rgb(231 189 182),
    70: rgb(202 162 156),
    60: rgb(174 136 130),
    50: rgb(146 111 105),
    40: rgb(119 86 81),
    35: rgb(106 75 70),
    30: rgb(93 63 59),
    25: rgb(81 52 48),
    20: rgb(68 41 37),
    10: rgb(44 21 18),
    0: rgb(0 0 0),
  ),
  error: (
    100: rgb(255 255 255),
    99: rgb(255 251 255),
    98: rgb(255 248 247),
    95: rgb(255 237 234),
    90: rgb(255 218 214),
    80: rgb(255 180 171),
    70: rgb(255 137 125),
    60: rgb(255 84 73),
    50: rgb(222 55 48),
    40: rgb(186 26 26),
    35: rgb(168 7 16),
    30: rgb(147 0 10),
    25: rgb(126 0 7),
    20: rgb(105 0 5),
    10: rgb(65 0 2),
    0: rgb(0 0 0),
  ),
  neutral: (
    100: rgb(255 255 255),
    99: rgb(255 251 255),
    98: rgb(255 248 246),
    95: rgb(251 238 236),
    90: rgb(237 224 221),
    80: rgb(208 196 194),
    70: rgb(180 169 167),
    60: rgb(153 142 141),
    50: rgb(127 117 115),
    40: rgb(101 92 91),
    35: rgb(89 80 79),
    30: rgb(77 69 68),
    25: rgb(65 58 56),
    20: rgb(54 47 46),
    10: rgb(32 26 25),
    0: rgb(0 0 0),
  ),
  neutral-variant: (
    100: rgb(255 255 255),
    99: rgb(255 251 255),
    98: rgb(255 248 246),
    95: rgb(255 237 234),
    90: rgb(245 221 218),
    80: rgb(216 194 190),
    70: rgb(188 167 163),
    60: rgb(160 140 137),
    50: rgb(133 115 112),
    40: rgb(107 90 88),
    35: rgb(95 79 76),
    30: rgb(83 67 65),
    25: rgb(71 56 54),
    20: rgb(59 45 43),
    10: rgb(37 25 23),
    0: rgb(0 0 0),
  ),
);
$font-family: "'Lucida Grande', 'Lucida Sans Unicode', Verdana, Helvetica, sans-serif, 'GNU Unifont'";
$light-theme: matx.define-theme(
  (
    color: (
      theme-type: light,
      primary: $light-primary-palette,
    ),
    typography: (
      plain-family: $font-family,
      brand-family: $font-family,
    ),
  )
);
$dark-theme: matx.define-theme(
  (
    color: (
      theme-type: dark,
      primary: $light-primary-palette,
    ),
    typography: (
      plain-family: $font-family,
      brand-family: $font-family,
    ),
  )
);

@mixin apply-base-theme {
  html {
    @include mat.core;
    @include mat.strong-focus-indicators;
    @include mat.typography-hierarchy($light-theme);
    @include cdk.text-field-autofill;
  }

  html,
  body {
    height: 100%;
  }

  body {
    margin: 0;
    @include mat.all-component-themes($light-theme);
    @include mat.strong-focus-indicators-theme($light-theme);

    a {
      color: mat.get-theme-color($light-theme, primary);
    }

    &.dark-mode {
      @include mat.all-component-colors($dark-theme);
      @include mat.strong-focus-indicators-color($dark-theme);

      // Avoid overwriting material styles.
      a:not([class^='mdc-'], [class^='mat-']) {
        color: mat.get-theme-color($dark-theme, primary);
      }
    }
  }
}
